/*! WillJS v1.4.0 | github.com/kawamanza/will.js/ */
(function(r,G,l,x){function s(a){this.name=a;this.constructor=s}function p(a){return"string"===typeof a}function u(a){return"[object Array]"===R.call(a)}function v(a){return"object"!==typeof a}function m(a){return"function"===typeof a}function H(a,b,c){var d,e;p(b)&&(b=b.split(/\./));d=b.shift();if(":"==d.charAt(0))b.unshift(d.substr(1)),a[b.join(".")]=c;else if(0==b.length)m(c)&&/^(.+?)([^\w])$/.test(d)?(d=RegExp.$1,"="==RegExp.$2?a.__defineSetter__(d,c):a.__defineGetter__(d,c)):a[d]=c;else{e=a[d];
if(v(e)||u(e))e={},a[d]=e;H(e,b,c)}}function j(a,b,c){var d="",e,f=arguments.length;3>f&&(c=b,b=a,a=this);p(b)?(d=b+".",b=c):2==f&&(a=b,b=c);for(e in b)b.hasOwnProperty(e)&&H(a,d+e,b[e]);return a}function S(a,b){return function(){return b.apply(a,arguments)}}function I(a,b){var c=n.createElement(a),d;for(d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}function y(a,b){var c,d,e,f,i,g,h;p(a)?i=/\@/.test(a):(c=a.src||a.href,d=a.getAttribute(J),a=(d?d+"@":"")+c);if(T.test(a)){d=RegExp.$1;
c=RegExp.$2;e=RegExp.$3;if(f="^"==c.charAt(0))c=c.substr(1);b&&"."==c.charAt(0)&&(c=I("script",{src:b+c}).src);/^\/\//.test(c)&&"https:"!=U&&(c="http:"+c)}g=V.test(c);d||(h=c.split(W),d=h.pop(),d=X.test(d)?RegExp.$1:d,g&&(Y.test(h[0])&&h.shift(),h.push(d),d=h.join("_").replace(/:/,"-")));j(this,{id:d,fixedId:i,pre:f,css:g,tn:g?"link":"script",qs:e||"",href:c})}function Z(a){var b=a.id,c=a.href,d=a.css,e=n.getElementsByTagName(a.tn),f,i=e.length,g,h;for(f=0;f<i;)if(g=e[f++],h=new y(g),h.id===b)return a.fixedId&&
d&&h.href!=c&&(g.href=c+(a.qs||h.qs)),[d,g];return!1}function $(a,b,c,d){var e=!1;a.onload=a.onreadystatechange=function(){var f=this.readyState;if(!e&&(!f||"loaded"===f||"complete"===f))e=!0,c(o),a.onload=a.onreadystatechange=l,a.onerror=a.onabort=l,d&&b&&a.parentNode&&b.removeChild(a)};a.onerror=a.onabort=function(){e=!0;c("error");a.onload=a.onreadystatechange=l;a.onerror=a.onabort=l;b&&a.parentNode&&b.removeChild(a)}}function z(){return n.getElementsByTagName("head")[0]||n.documentElement}function K(a,
b){var c,d=n.getElementsByTagName("link"),e=d.length;for(c=0;c<e;c++){if(d[c]===a)return!0;if(d[c]===b)return!1}}function w(a,b){(b=b||n.getElementsByTagName("link")[0])?z().insertBefore(a,b):z().appendChild(a)}function t(a){j(this,{queue:[],active:!1,run:a})}function aa(a,b,c,d,e){var f=z(),i=b.css,g=b.href,h=b.qs,k=a.cfg.queryString;h?k=h.substr(1):m(k)?k=k(g):k||(k=(h=a.info.qs)?h.substr(1):"");a={};a[J]=b.id;i&&(a.rel="stylesheet");a[i?"href":"src"]=g+(k?"?"+k:"");a=I(b.tn,a);i?(b.pre?w(a,c):
c&&c.nextSibling?f.insertBefore(a,c.nextSibling):w(a),d(o,a)):($(a,f,d,e),f.appendChild(a))}function L(a,b,c,d){var e=this,f=!1,i,g,h,k,j;d||(d=A);k=h=function(){f||(j=d.info,e=this,i=arguments,c||(g=i),k.pluginFile==b&&j.min&&(b=k.pluginFile.replace(ba,".min.js")),d.use("willjsPlugin-"+a+"@"+j.dir+b+j.qs)(function(b){f=!0;b===o&&(h=e[a].apply(e,g),c&&h.apply(e,i))}))};c&&(k=function(){g=arguments;e=this;return function(){h.apply(e,arguments)}});k.pluginFile=b;e[a]=k}function M(a,b){"cfg"in a||(j(a,
{registry:{},cfg:j(new N,{processors:new B,domains:{local:{format:"json"}},packages:{}})}),"use"in a||j(a,q));m(b)&&b(a.cfg)}function O(a,b,c){var d="impl";p(c)&&(d=c,c=b[d]);b[d]=function(){var e=arguments,f=b.assets;f&&f.length?C(a,"loadDependenciesAndCall",[a,b,e]):(b[d]=d=="impl"?S(a,c):c).apply(b,e)}}function D(a,b,c){if(!v(b)){p(c)&&(c=new E(a,c));var d=b.impl||m(b.getImpl)&&b.getImpl(a),e=b.assets;if(m(d))c=c.entry,c.assets=v(e)||!u(e)?[]:e,O(a,c,d),c.rescue=b.rescue||c.rescue;else for(d in b)c.name=
d,D(a,b[d],c)}}function E(a,b){var c=a.cfg,d=c.domains,e=a.modes,f,i;ca.test(b)&&(b=RegExp.$3,i=RegExp.$2||c.packages[b]||c.defaultPackage,f=RegExp.$1||"local");d=d[f]||d.local||{};j(this,{domainName:f,packageName:i,name:b,base:d.domain,format:d.format||"json",prod:(d.mode||c.mode||e.DEV)==e.PROD,ctx:a})}function C(a,b,c){var a=a.cfg.processors,d=a[b];d||(d=a[b]=new t(function(a){m(a)&&a()}));d.process(c)}function P(a,b,c){var d={assets:b};return function(b,f){if(!d.impl){var i,g;m(b)?(i=function(){b(o)},
g=function(){b("error")}):i=g=function(){};O(a,d,i);d.dir=f;d.rescue=g;d.removeElement=c;d.impl()}}}function B(){}function N(){}var A,q={},J="data-willjs-id",o="success",V=/\.css$/,ba=/\.js$/,W=/\/+/,Y=/^\^?(?:\w+:|)$/,F=/^(?:[^@]+@)?\|/,X=/^([\w\-\.]+?)(?:\.min|\-\d+(?:\.\d+)*(?:\.?\w+)?)*\.(?:css|js)$/,T=/^(?:([\w\-\.]+)\@)?([^#\?]+)(?:(\?[^#]*))?/,ca=/^(?:(\w+):)?(?:(\w+)\.)?(\w+)$/,Q=Array.prototype.slice,R=Object.prototype.toString,U=r.location.protocol,n=r.document;j(t.prototype,{sched:function(){var a=
this;setTimeout(function(){a.process()},0)},process:function(a){var b=this,c=b.queue;if(arguments.length){if(v(a)||!u(a))a=[a];c.push(a);setTimeout(function(){c.length&&!b.active&&(b.active=!0,b.process())},2)}else if(c.length){a=c.shift();try{!1!==b.run.apply(b,a)&&b.sched()}catch(d){throw b.sched(),d;}}else b.active=!1}});j(E.prototype,{"dir!":function(){var a=this.ctx,b=this.packageName;return(this.base||a.info.dom)+(this.prod||b==a.cfg.defaultPackage?"":b+"/")},"url!":function(){return this.dir+
(this.prod?this.packageName:this.name)+"."+this.format},"entry!":function(){var a=this.ctx.registry,b=this.domainName,c=this.packageName,a=a[b]||(a[b]={}),c=a[c]||(a[c]={}),a=this.name;return c[a]||(c[a]={rescue:function(){},dir:this.dir})},toString:function(){return this.domainName+":"+this.packageName+"."+this.name}});j(q,{use:function(a){return P(this,u(a)?a:Q.call(arguments,0),!1)},addComponent:function(a,b){D(this,b,a)},addProcessor:function(a,b){var c=this.cfg.processors;c[a]||(c[a]=new t(b))},
process:function(a){C(this,a,Q.call(arguments,1))},modes:{DEV:2,PROD:1},as:function(a){return!a?a:r[a]||(r[a]=new s(a))},configure:function(a){this.configured=!0;M(this,a);return this},":info!":function(){var a=this._info,b,c,d,e;if(!a){b=n.getElementsByTagName("script");x||(x="will");d=0;for(c=b.length;d<c;d++)if(e=new y(b[d]),e.id==x){b=e.href;this._info=a={href:b,qs:e.qs,min:/\.min\.js/.test(b),dir:b=b.replace(/\/(?:will\/)*[^\/]+$/,"/will/"),dom:b+"components/"};break}}return a}});j(q,"u",{hit:L,
Processors:B,Processor:t,Path:E,process:C,requireAssets:P,registerFunctions:D,extend:j});j(s.prototype,q);j(N.prototype,{mode:q.modes.DEV,version:"1.4.0",addDomain:function(a,b,c,d){b&&(b+=/\/$/.test(b)?"":"/");this.domains[a]={format:p(c)?c:c?"js":"json",domain:b,mode:d}},defaultPackage:"root",registerPackage:function(a,b){var c=b.split(/,/),d,e,f;d=this.packages;f=0;for(e=c.length;f<e;)d[c[f++]]=a}});B.prototype.loadDependenciesAndCall=new t(function(a,b,c){var d=this,e=a.cfg.debug,f=b.assets,i,
g,h;g=b.dir;if(f.length)if(i=new y(f[0],g),h=i.pre,g=Z(i)){f.shift();if(g[0]){if(a=b.lastCss)e=b.bottomCss.nextSibling,h&&K(a,g[1])?w(g[1],a):e&&K(g[1],b.bottomCss)&&w(g[1],e);if(!a||!h)b.bottomCss=g[1];b.lastCss=g[1]}for(;f.length&&F.test(f[0]);)f.shift();b.impl.apply(l,c)}else return e&&e('** loading asset "'+i.href+'"'),aa(a,i,b[h?"lastCss":"bottomCss"],function(a,e){try{if(1<f.length&&F.test(f[1]))if(a===o){do f.shift();while(1<f.length&&F.test(f[1]))}else f[1]=f[1].replace(/\|/,""),a=o;if(a===
o){f.shift();if(e){if(!b.lastCss||!h)b.bottomCss=e;b.lastCss=e}b.impl.apply(l,c)}else b.rescue.apply(l,c)}finally{d.sched()}},b.removeElement),!1;else b.impl.apply(l,c)});r[G]=A=new s(G);M(A);q.u.hit("loadComponent","componentLoader.js");L.call(s.prototype,"call","callComponent.js",!0)})(window,"will",null);
